## 정규화

- 이상현상이 발생하는 릴레이션을 분해하여 이상현상을 없애는 과정

- 이상현상이 있는 릴레이션은 이상현상을 일으키는 함수 종속성의 유형에 따라 등급을 구분 가능

- 릴레이션은 정규형 개념으로 구분

  - 정규형이 높을수록 이상현상 줄어듦

- ### 함수 종속성

  - 완전 함수 종속
    - A와B가 **릴레이션 R의 속성** &&  **A-> B 종속성이 성립**
      - **속성 전체에 함수 종속하고 부분 집합 속성에 함수 종속하지 않을 경우** 완전 함수 종속이라고 함
      - A-> B 종속성에서 A의 속성 일부를 제거해도 **종속성이 여전히 성립하는 경우** **불완전 함수 종속 혹은 부분 함수 종속**이라고 함
    - 어떤 **속성 A의 값을 알면 다른 속성 B의 값이 유일하게 정해지는 의존 관계**를 `속성A는 속성B를 결정한다`라고 한다.
      - `A->B`라고 표기
      - **A는 B의 결정자**라고 함
    - **한 속성 값에 두 개 이상의 값**이 있는 경우 : **종속하지 않는다**고 함
    - 종속성 파악 : 기본키 찾기

1. ## 제1 정규형

   - 릴레이션이란 **관계형 데이터베이스에서 정보를 구분하여 저장하는 기본 단위**

   - 릴레이션 R의 **모든 속성 값이 원자값을 가지면** 제1정규형이라고 함

   - 제 1정규형으로 변환

     - | 이름   |            |
       | ------ | ---------- |
       | 김연아 | 영화, 노래 |
       | 추신수 | 음악, 쇼핑 |
       | 박세리 | 게임       |
       | 박지성 | 추구       |

     - | 이름   | 취미 |
       | ------ | ---- |
       | 김연아 | 영화 |
       | 김연아 | 노래 |
       | 추신수 | 음악 |
       | 추신수 | 쇼핑 |
       | 박세리 | 게임 |
       | 박지성 | 축구 |

2. ## 제 2정규형

   - 릴레이션 R이 제 1 정규형이고 기본키가 아닌 속성이 **기본키에 완전 함수 종속**일 때 제 2정규형이라고 함

   - | 학생번호 | 강좌이름     | 강의실     | 성적 |
     | -------- | ------------ | ---------- | ---- |
     | 501      | 데이터베이스 | 공학관 110 | 3.5  |
     | 401      | 데이터베이스 | 공학관 110 | 4.0  |
     | 402      | 스포츠경영학 | 체육관 103 | 3.5  |
     | 502      | 자료구조     | 공학관 111 | 4.0  |
     | 501      | 자료구조     | 공학관 111 | 3.5  |

     - 학생이름 --> 성적
     - 강좌이름 --> 성적

     | 학생번호 | 강좌이름     | 성적 |
     | -------- | ------------ | ---- |
     | 501      | 데이터베이스 | 3.5  |
     | 401      | 데이터베이스 | 4.0  |
     | 402      | 스포츠경영학 | 3.5  |
     | 502      | 자료구조     | 4.0  |
     | 501      | 자료구조     | 3.5  |

     - 강좌이름 --> 강의실

   - | 강좌이름     | 강의실     |
     | ------------ | ---------- |
     | 데이터베이스 | 공학관 110 |
     | 스포츠경영학 | 체육관 103 |
     | 자료구조     | 공학관 111 |

3. ## 제 3 정규형

   - 속성들이 이행적으로 종속되어 있는지 여부를 판단하는 것
   - 릴레이션 R이 제2 정규형이고, 기본키가 아닌 속성이 기본키에 비이행적으로 종속할 때 (직접 종속)
   - **이행적 종속**
     - A->B, B->C가 성립할 때, A->C 가 성립되는 함수 종속성

4. ## BCNF

   - 릴레이션에 존재하는 함수 종속성에서 **모든 결정자가 후보키**이면 BCNF 정규형

   - | 학생번호 | 특강이름     | 교수   |
     | -------- | ------------ | ------ |
     | 501      | 소셜네트워크 | 김교수 |
     | 401      | 소셜네트워크 | 김교수 |
     | 402      | 인간과 동물  | 승교수 |
     | 502      | 창업전략     | 박교수 |
     | 501      | 창업전략     | 홍교수 |

     - 학생번호  	 교수

     - | 학생번호 | 교수   |
       | -------- | ------ |
       | 501      | 김교수 |
       | 401      | 김교수 |
       | 402      | 승교수 |
       | 502      | 박교수 |
       | 501      | 홍교수 |

     - | 특강이름     | 교수   |
       | ------------ | ------ |
       | 소셜네트워크 | 김교수 |
       | 인간과 동물  | 승교수 |
       | 창업전략     | 박교수 |
       | 창업전략     | 홍교수 |

     - 특강이름 <-- 교수

     