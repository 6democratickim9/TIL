## Front Controller Design Pattern 

- 적용된 모든 클라이언트의 요청을 하나의 진입점으로 통합하여 처리하는 디자인 패턴
- `FrontControllerServlet` : 모든 클라이언트 **요청을 처리**하는 서블릿
-  웹 어플리케이션 서비스의 **공통 정책을 일관성 있게 효과적으로 처리**할 수 있다 
  - ( 공통 정책 : 보안(인증,인가) , 예외처리 , 인코딩 , 데이터수집 등 ) 
- 모든 클라이언트의 다양한 요청을 하나의 FrontControllerServlet 이 통합하여 처리
- 다양한 클라이언트의 요청을 하나의 진입점인 FrontControllerServlet이 구분하기 위해서는 hidden tag를 이용해서 클라이언트 요청시 form 내부에`<input type="hidden" name="command" value="findCarByNo">` 와 같이 할당해서 전송
- query string 방식으로` FrontControllerServlet?command=findCarByNo` 와 같은 형식도 가능





- FrontControllerSerlvet 의 doDispatch(request,response) 메서드를 정의하여 get방식, post방식 요청 처리

  -> 생각해볼 점: doDispatch 메서드의 처리 작업이 많음으로 기능별로 메서드를 분할하여 호출하여 처리하는 방식으로 구조 개선

-------

잠깐 다시 서블릿 개념 짚어보기...

### Servlet

- 클라이언트 요청을 처리하고 그 결과를 다시 클라이언트에게 전송하는 **서블릿 클래스의 구현 규칙을 지킨** 자바 프로그램
  - 클라이언트의 HTTP 요청에 대해 특정 기능을 수행, HTML문서를 **생성등의 응답**을 하는 인터넷 서버 프로그램

- MVC에서 Controller의 역할을 한다

### Servlet Container

- 서블릿을 관리해줌

- **서블릿의 생명주기를 관리**

-  **요청에 따른 스레드를 생성**

- 클라이언트의 Request 를 받아주고 Response 를 보낼 수 있게 웹 서버와 소켓을 만들어서 통신해줌

- **통신 지원**
  서블릿과 웹 서버가 통신할 수 있는 손쉬운 방법을 제공한다. 우리가 통신을 한다고 생각할 때 소켓을 만들고, 특정 포트를 리스닝하고, 연결 요청이 들어오면 스트림을 생성해서 요청을 받는다고 알고있는데 이 과정을 서블릿 컨테이너가 대신 해주는 것이다. 서블릿 컨테이너는 이런 통신 과정을 API 로 제공하고 있기 때문에 우리가 쉽게 사용할 수 있다.

- **생명주기 관리**
  서블릿 컨테이너가 기동되는 순간 서블릿 클래스를 로딩해서 인스턴스화하고, 초기화 메서드를 호출하고, 요청이 들어오면 적절한 서블릿 메소드를 찾아서 호출한다. 만약 서블릿의 생명이 다하는 순간 가비지 컬렉션을 진행한다.

- **멀티스레딩 관리**
  서블릿 컨테이너는 해당 서블릿의 요청이 들어오면 스레드를 생성해서 작업을 수행한다. 즉 동시의 여러 요청이 들어온다면 멀티스레딩 환경으로 동시다발적인 작업을 관리한다.

- **선언적인 보안관리**
  서블릿 컨테이너는 보안 관련된 기능을 지원한다. 따라서 서블릿 코드 안에 보안 관련된 메소드를 구현하지 않아도 된다.

- **JSP 지원**

- ## Tomcat

  - 톰캣도 서블릿 컨테이너
  - 웹 서버와 연동하여 실행할 수 있는 **자바 환경을 제공**하여 자바 서버 페이지(JSP)와 자바 서블릿이 실행할 수 있는 환경 제공

