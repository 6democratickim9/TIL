## AWS - managed & Customer - managed CMKs

- CMK는 일반적으로 AWS가 관리하는 것과 customer- managed 두 가지로 나뉠 수 있다.

  

  - ### AWS가 관리하는 CMK

    - AWS가 관리하는 CMK는 **AWS 리소스의 서버측 암호화를 사용하도록 선택**하면 생성됨

    - AWS가 관리하는 CMK는 각 AWS 계정과 해당 키가 사용되는 리전마다 고유한 값을 가지고 있음

    - AWS가 관리하는 CMK는 생성된 특정 **AWS 서비스 내의 리소스를 보호하는 데만 사용 가능**

      

  - ### 고객 관리 CMK

    - **사용자의 요청에 따라 작성**되며 명시적인 사용 사례에 따라 구성해야 함

    - 고객이 관리하는 CMK의 경우 **기본 키 자료를 작성**할 수 있는 두 가지 옵션이 있음

    - AWS KMS를 사용하여 CMK를 생성하도록 선택할 때 **KMS가 암호화 자료를 생성**하도록 하거나, **사용자가 직접 주요 자료를 가져오도록** 선택할 수 있음

    - 사용자 자신의 암호화 자료를 가져오는 기능을 통해 다음을 수행할 수 있습니다.

      - 무작위적 요구사항을 충족하는 **승인된 소스를 사용하여 주요 재료를 생성했음을 증명**함
      - **AWS 서비스와 자체 인프라의 주요 자료를 함께 사용**하고 AWS KMS를 사용하여 **AWS 내에서 주요 자료의 라이프사이클 관리**
      - AWS에서 주요 자료의 유효기간을 설정하고 수동으로 삭제할 수 있는 기능을 갖췄지만 추후 다시 사용할 수 있도록 할 수 있음
      - 주요 자료의 **원본 복사본을 소유**하고, 주요 자료의 **전체 수명 주기 동안 추가 내구성과 재해 복구를 위해 AWS 외부에 보관**

      

|                    | **AWS-managed CMK**           | **Customer-managed CMK**                                     |
| ------------------ | ----------------------------- | ------------------------------------------------------------ |
| 생성               | 고객을 대신해 생성된 AWS      | 고객이 생성                                                  |
| 로테이션           | 3년에 한 번 자동으로          | 1년에 한 번 수동으로 옵트인 또는 온디맨드 방식으로 자동 수행 |
| 삭제               | 삭제 불가                     | 삭제 가능                                                    |
| 사용 범위          | 특정 AWS 서비스에 대해 제한됨 | KMS/IAM 정책에 따라 조정가능                                 |
| 키 액세스 정책     | AWS 관할                      | 고객 관할                                                    |
| 사용자 액세스 관리 | IAM 정책                      | IAM 정책                                                     |

