#### 메타데이터 생성

ffprobe 프로그램을 사용해서 동영상 파일의 정보를 추출

ffprobe: 윈도우 환경에서는 실행 속성 설정 문제가 있어서 Amazon Linux EC2 인스턴스 생성해서 해당 인스턴스 내에서 실행



1. Amazon Linux EC2 인스턴스 생성

   

![image-20210312133845586](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312133845586.png)

![image-20210312133853032](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312133853032.png)

2. SSH 접속 후 node.js 설치

참고 ⇒ https://docs.aws.amazon.com/ko_kr/sdk-for-javascript/v2/developer-guide/setting-up-node-on-ec2-instance.html

![image-20210312134414159](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312134414159.png)

```
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.34.0/install.sh | bash

. ~/.nvm/nvm.sh

nvm install node

  node -e "console.log('Running Node.js ' + process.version)"

nvm install v12.19.0
```

3. 인스턴스의 리눅스 버전에 해당하는 ffmpeg 정적 빌드 다운로드

   맞는 것 가져오는 것이 중요! => 맞는 것 찾는 법은 aws 공식 문서 참조.

   

![image-20210312135028428](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312135028428.png)

이거 받아야됨

```wget https://www.johnvansickle.com/ffmpeg/old-releases/<받을 파일 이름>```

로 다운받는다

파일 이름 안붙이면 index.html이 다운됨ㅋㅋㅋ하,,,

``` xz -d ffmpeg-4.2.2-amd64-static.tar.xz```

압축해제

``` tar xvf ffmpeg-4.2.2-amd64-static.tar```

```cd ffmpeg-4.2.2-amd64-static/```

```ll```

해서 확인





4. **세번째 람다 함수 생성**

- 동영상 파일(트랜스 코딩된 동영상 파일, 3개가 생성)의 메타 정보를 추출해서 S3 버킷(트랜스 코딩된 파일이 저장되는 버킷)에 저장하는 람다 함수
- ![image-20210312135950924](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312135950924.png)

![image-20210312140003693](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312140003693.png)

5. 세번째 람다 함수 소스 코드 작성

EC2 인스턴스에서 작업 => ffprobr를 람다에 포함해서 배포해야 함

![image-20210312140324555](C:\Users\MIN\AppData\Roaming\Typora\typora-user-images\image-20210312140324555.png)







----------

### lambda handler

> AWS Lambda 함수 핸들러는 이벤트를 처리하는 함수 코드의 메서드

- 함수가 호출되면 Lambda에서 핸들러 메서드를 실행

```python
def handler_name(event, context): 
    ...
    return some_value
```



### ACL

>  트래픽 필터링과 방화벽을 구축하는데 가장 중요한 요소

- 내부적인 패킷 필터링
- 부적절한 인터넷 접근으로부터의 내부 네트워크 보호
- 가상 터미널 포트들에 대한 접근 제한
  - Standard
    - 기본적인 액세스 제어
    - IP packet의 출발지 주소만 검사하여 제어
    - L3장비에서 적용
    - ACL Number: 1~99, 확장: 1300~ 1699
  - Extended
    - IP Packet의 소스, 도착지 주소, 프로토콜을 검사하여 제어하며 L3 장비에서 적용
    - 특정 프로토콜, 포트번호 등 여러 매개 변수 사용
    - ACL Number: 100~199, 확장: 2000~2699

### SDK

> 소프트웨어 개발 키트

- 하드웨어 플랫폼, 운영 체제(Operatting System, OS) 또는 프로그래밍 언어 제작사가 제공하는 일련의 툴
- SDK를 활용하여 개발자는 이러한 플랫폼, 시스템 또는 프로그래밍 언어에 따라 애플리케이션을 개발할 수 있음

### Parsing

> 문장을 이루고 있는 구성 성분으로 분해하고 그들 사이의 위계 관계를 분석하여 문장의 구조를 결정하는 것

- 구문 분석이라고도 함
- 데이터를 조립=> 원하는 데이터를 빼내는 프로그램을 만드는 것
- 일련의 문자열을 의미있는 토큰(어휘 분석의 단위) 로 분해하고 그것들로 이루어진 parse tree를 만드는 과정
- 어떤 문장을 분석하거나 문법적 관계를 해석하는 행위

### Parse

> 컴퓨팅에서 parse는 interpreter나 compiler의 **구성 요소 가운데 하나**로 입력 토큰에 내재된 **자료 구조를 빌드하고 문법을 검사한다**

- 일련의 입력 문자로부터 token을 만들기 위해 별도의 낱말 분석기를 이용

- 수작업으로 프로그래밍되며 도구에 의해 (반)자동적으로 만들어질 수 있음

- parsing을 하는 processor

  = **parser가 parsing을 하는 것**

  

--------



- 컴파일러와 인터프리터는 고급언어로 작성된 원시 프로그램을 목적 프로그램으로 번역하는 번역 프로그램

  -> 번역 방식에 따라 구분됨



### Interpreter

> 고급 언어로 작성된 프로그램을 **한 줄 단위로 받아들여 번역**하고, 번역과 동시에 프로그램을 한 **줄 단위로 즉시 실행**시키는 프로그램

- 프로그램이 **직접 실행**되므로 **목적 프로그램은 생성되지 않음**
- **줄 단위로 번역, 실행**되기 때문에 시분할 **시스템에 유용**하며 **원시 프로그램의 변화에 대한 반응이 빠름**
- **번역 속도는 빠르지만** 프로그램 실행 시 **매번 번역**해야 하므로 **실행 속도는 느림**
- 사용 언어
  - Python, BASIC, SNOBOL, LISP, APL등
- CPU 사용시간의 낭비가 큼



### Compiler

- 컴파일러는 고급 언어로 작성된 프로그램 전체를 **목적 프로그램으로 번역**한 후, 링킹 작업을 통해 컴**퓨터에서 실행 가능한 실행 프로그램을 생성**
- **번역 실행 과정을 거쳐야 하기 때문에 번역 과정이 번거**롭고 번역 시간이 오래 걸리지만, 한번 번역한 후에는 다시 번역하지 않으므로 **실행 속도가 빠름**
- 컴파일러 사용 언어
  - C, Java

